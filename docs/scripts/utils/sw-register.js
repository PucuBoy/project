const swRegister=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("./sw.js");if(console.log("Service worker registered"),"Notification"in window&&"granted"===await Notification.requestPermission()&&console.log("Notification permission granted"),"periodicSync"in e&&"granted"===(await navigator.permissions.query({name:"periodic-background-sync"})).state)try{await e.periodicSync.register("update-stories",{minInterval:864e5})}catch(e){console.log("Periodic sync could not be registered:",e)}return e}catch(e){return console.log("Failed to register service worker:",e),null}else console.log("Service Worker not supported in the browser")};export default swRegister;